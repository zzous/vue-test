{"remainingRequest":"D:\\ddan\\kb\\sptek_vue_template_v1.5\\sptek_vue_template_1.5_pub\\node_modules\\babel-loader\\lib\\index.js!D:\\ddan\\kb\\sptek_vue_template_v1.5\\sptek_vue_template_1.5_pub\\src\\core\\utils\\request.js","dependencies":[{"path":"D:\\ddan\\kb\\sptek_vue_template_v1.5\\sptek_vue_template_1.5_pub\\src\\core\\utils\\request.js","mtime":1591060072903},{"path":"D:\\ddan\\kb\\sptek_vue_template_v1.5\\sptek_vue_template_1.5_pub\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572588422475},{"path":"D:\\ddan\\kb\\sptek_vue_template_v1.5\\sptek_vue_template_1.5_pub\\node_modules\\babel-loader\\lib\\index.js","mtime":1586157842868}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IGF4aW9zLCB7IENhbmNlbFRva2VuIH0gZnJvbSAiYXhpb3MiOwppbXBvcnQgc3RvcmUgZnJvbSAiQC9zdG9yZSI7IC8vIGNyZWF0ZSBhbiBheGlvcyBpbnN0YW5jZQoKY29uc29sZS5sb2coIiMjIyBBUEkgVVJMICIsIHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEkpOwp2YXIgc2VydmljZSA9IGF4aW9zLmNyZWF0ZSh7CiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICAvLyB1cmwgPSBiYXNlIHVybCArIHJlcXVlc3QgdXJsCiAgLy8gd2l0aENyZWRlbnRpYWxzOiB0cnVlLCAvLyBzZW5kIGNvb2tpZXMgd2hlbiBjcm9zcy1kb21haW4gcmVxdWVzdHMKICB0aW1lb3V0OiAzMDAwMDAKfSk7IC8vIHJlcXVlc3QgaW50ZXJjZXB0b3IKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyDthqDqt7wg7LaU6rCAIAogIGNvbmZpZy5oZWFkZXJzLnVzZXJfaWQgPSAidXNlcjAxIjsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBkbyBzb21ldGhpbmcgd2l0aCByZXF1ZXN0IGVycm9yCiAgY29uc29sZS5sb2coImVycm9yIC0tLS0tLS0tLS0gIiwgZXJyb3IpOyAvLyBmb3IgZGVidWcKCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8vIHJlc3BvbnNlIGludGVyY2VwdG9yCgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7IC8vIOuNsOydtO2EsCDtg4DsnoXsnbQgemlw7J24IOqyveyasCDsnKDtmqjshLEg7LKY66asIOustOyLnO2VmOq4sAoKICBpZiAocmVzLnR5cGUgPT0gImFwcGxpY2F0aW9uL3ppcCIpIHsKICAgIHJldHVybiByZXM7CiAgfSAvLyDrjbDsnbTthLAg7YOA7J6F7J20IGpzb24g7YyM7J287J24IOqyveyasCDsnKDtmqjshLEg7LKY66asIOustOyLnO2VmOq4sAoKCiAgaWYgKHJlcy50eXBlID09ICJhcHBsaWNhdGlvbi9qc29uIikgewogICAgcmV0dXJuIHJlczsKICB9IC8vIGNvZGU9PTIyMDDrsojsnbgg6rK97Jqw66eMIO2ZnOyEse2ZlCDsspjrpqwKCgogIGlmIChyZXMuY29kZSA9PSAyMjAwIHx8IHJlcy5jb2RlID09PSAyMDAwMCkgewogICAgcmV0dXJuIHJlczsKICB9IGVsc2UgewogICAgLy8g7J2867CYIOyXkOufrAogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihyZXMubWVzc2FnZSB8fCAiRXJyb3IiKSk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvL+yYiOyZuCDsl5Drn6wg7LKY66asIAogIC8vIOyEnOuyhCDsmpTssq3snYQg7Leo7IaM7ZWcIOqyveyasCDrmJDripQg64Sk7Yq47JuM7YGsIOyXkOufrOyduCDqsr3smrAgCiAgY29uc29sZS5sb2coInJlcXVlc3QgdXNlIGVycm9yIiwgZXJyb3IpOyAvLyBmb3IgZGVidWcKICAvLyBheGlvc+yXkOyEnCDshJzrsoQg7JqU7LKt7J2EIOy3qOyGjO2VnCDqsr3smrDsl5Ag7Iuk7ZaJLgoKICBpZiAoYXhpb3MuaXNDYW5jZWwoZXJyb3IpKSB7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCB7IENhbmNlbFRva2VuIH07CmV4cG9ydCBkZWZhdWx0IHNlcnZpY2U7"},{"version":3,"sources":["D:/ddan/kb/sptek_vue_template_v1.5/sptek_vue_template_1.5_pub/src/core/utils/request.js"],"names":["Vue","axios","CancelToken","store","console","log","process","env","VUE_APP_BASE_API","service","create","baseURL","timeout","interceptors","request","use","config","headers","user_id","error","Promise","reject","response","res","data","type","code","Error","message","isCancel"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CACA;;AAEAC,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,OAAO,CAACC,GAAR,CAAYC,gBAAxC;AACA,IAAMC,OAAO,GAAGR,KAAK,CAACS,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEL,OAAO,CAACC,GAAR,CAAYC,gBADI;AACc;AACvC;AACAI,EAAAA,OAAO,EAAE;AAHgB,CAAb,CAAhB,C,CAQA;;AACAH,OAAO,CAACI,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAI;AACN;AACAA,EAAAA,MAAM,CAACC,OAAP,CAAeC,OAAf,GAAyB,QAAzB;AACA,SAAOF,MAAP;AACH,CALL,EAMI,UAAAG,KAAK,EAAI;AACL;AACAf,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCc,KAAjC,EAFK,CAEoC;;AACzC,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAVL,E,CAaA;;AACAV,OAAO,CAACI,YAAR,CAAqBS,QAArB,CAA8BP,GAA9B,CACI,UAAAO,QAAQ,EAAI;AACR,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB,CADQ,CAGR;;AACA,MAAID,GAAG,CAACE,IAAJ,IAAY,iBAAhB,EAAmC;AAC/B,WAAOF,GAAP;AACH,GANO,CAQR;;;AACA,MAAIA,GAAG,CAACE,IAAJ,IAAY,kBAAhB,EAAoC;AAChC,WAAOF,GAAP;AACH,GAXO,CAaR;;;AACA,MAAIA,GAAG,CAACG,IAAJ,IAAY,IAAZ,IAAoBH,GAAG,CAACG,IAAJ,KAAa,KAArC,EAA4C;AACxC,WAAOH,GAAP;AACH,GAFD,MAEO;AACH;AAEA,WAAOH,OAAO,CAACC,MAAR,CAAe,IAAIM,KAAJ,CAAUJ,GAAG,CAACK,OAAJ,IAAe,OAAzB,CAAf,CAAP;AACH;AACJ,CAtBL,EAuBI,UAAAT,KAAK,EAAI;AACL;AACA;AACAf,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCc,KAAjC,EAHK,CAGoC;AAEzC;;AACA,MAAIlB,KAAK,CAAC4B,QAAN,CAAeV,KAAf,CAAJ,EAA2B;AACvB,WAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH;;AAED,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAlCL;AAoCA,SAASjB,WAAT;AACA,eAAeO,OAAf","sourcesContent":["import Vue from \"vue\";\r\nimport axios, { CancelToken } from \"axios\";\r\nimport store from \"@/store\";\r\n// create an axios instance\r\n\r\nconsole.log(\"### API URL \", process.env.VUE_APP_BASE_API);\r\nconst service = axios.create({\r\n    baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\r\n    // withCredentials: true, // send cookies when cross-domain requests\r\n    timeout: 300000\r\n});\r\n\r\n\r\n\r\n// request interceptor\r\nservice.interceptors.request.use(\r\n    config => {\r\n        // 토근 추가 \r\n        config.headers.user_id = \"user01\"        \r\n        return config;\r\n    },\r\n    error => {\r\n        // do something with request error\r\n        console.log(\"error ---------- \", error); // for debug\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// response interceptor\r\nservice.interceptors.response.use(\r\n    response => {\r\n        const res = response.data;\r\n\r\n        // 데이터 타입이 zip인 경우 유효성 처리 무시하기\r\n        if (res.type == \"application/zip\") {\r\n            return res;\r\n        }\r\n\r\n        // 데이터 타입이 json 파일인 경우 유효성 처리 무시하기\r\n        if (res.type == \"application/json\") {\r\n            return res;\r\n        }\r\n\r\n        // code==2200번인 경우만 활성화 처리\r\n        if (res.code == 2200 || res.code === 20000) {\r\n            return res;\r\n        } else {\r\n            // 일반 에러\r\n\r\n            return Promise.reject(new Error(res.message || \"Error\"));\r\n        }\r\n    },\r\n    error => {\r\n        //예외 에러 처리 \r\n        // 서버 요청을 취소한 경우 또는 네트워크 에러인 경우 \r\n        console.log(\"request use error\", error); // for debug\r\n\r\n        // axios에서 서버 요청을 취소한 경우에 실행.\r\n        if (axios.isCancel(error)) {\r\n            return Promise.reject(error);\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    }\r\n);\r\nexport { CancelToken };\r\nexport default service;\r\n"]}]}